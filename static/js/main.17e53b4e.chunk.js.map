{"version":3,"sources":["components/User.js","components/TodoItem.js","components/TodoList.js","components/loadingData.js","App.js","index.js"],"names":["User","_ref","name","react_default","a","createElement","defaultProps","TodoItem","id","title","completed","user","currentIndex","todos","concat","type","defaultChecked","onChange","index","todo","splice","updateAppState","Object","toConsumableArray","updateStatus","htmlFor","components_User","sortStatus","TodoList","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sort","fieldOfSort","sortWay","funcSort","b","localeCompare","setState","sortTotos","state","_this2","className","onClick","map","components_TodoItem","assign","key","React","Component","loadData","asyncToGenerator","regenerator_default","mark","_callee","url","response","data","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","getTodosWithUsers","_ref2","_callee2","users","todosWithUsers","_context2","objectSpread","find","person","userId","_x2","App","renderButton","config","handleClick","loadButton","document","querySelector","disabled","textContent","then","components_TodoList","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.17e53b4e.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ name }) => (\n  <div>\n    {name}\n  </div>\n);\n\nUser.propTypes = {\n  name: PropTypes.string,\n};\n\nUser.defaultProps = {\n  name: null,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst updateStatus = (index, todos) => {\n  const todo = todos[index];\n  todo.completed = !todo.completed;\n  todos.splice(index, 1, todo);\n  todo.updateAppState({ todos: [...todos] });\n};\n\nconst TodoItem = ({ id, title, completed, user, currentIndex, todos }) => (\n  <tr>\n    <td>\n      <input\n        id={`todo${id}`}\n        type=\"checkbox\"\n        defaultChecked={completed}\n        onChange={() => updateStatus(currentIndex, todos)}\n      />\n    </td>\n\n    <td>\n      <label htmlFor={`todo${id}`}>\n        {title}\n      </label>\n    </td>\n\n    <td>\n      <User {...user} />\n    </td>\n  </tr>\n);\n\nTodoItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n  currentIndex: PropTypes.number.isRequired,\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nTodoItem.defaultProps = {\n  completed: false,\n  user: null,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nlet sortStatus = 1;\n\nclass TodoList extends React.Component {\n  constructor({ todos }) {\n    super();\n    this.todos = todos;\n\n    this.state = {\n      sortTotos: [...this.todos],\n    };\n  }\n\n  sort = (fieldOfSort, todos, sortWay) => {\n    let funcSort;\n    switch (fieldOfSort) {\n      case 'Status':\n        funcSort = (a, b) => sortWay * (a.completed - b.completed);\n        break;\n      case 'Todo':\n        funcSort = (a, b) => sortWay * a.title.localeCompare(b.title);\n        break;\n      case 'User':\n        funcSort = (a, b) => sortWay * a.user.name.localeCompare(b.user.name);\n        break;\n      default: break;\n    }\n\n    sortStatus = -sortStatus;\n\n    this.setState({\n      sortTotos: [...todos].sort(funcSort),\n    });\n  };\n\n  render() {\n    return (\n      <table>\n        <thead>\n          <tr className=\"table-head\">\n            <th onClick={() => this.sort('Status', this.todos, sortStatus)}>Status</th>\n            <th onClick={() => this.sort('Todo', this.todos, sortStatus)}>Todo</th>\n            <th onClick={() => this.sort('User', this.todos, sortStatus)}>User</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            this.state.sortTotos.map((todo, currentIndex) => (\n              <TodoItem\n                {...todo}\n                todos={this.todos}\n                currentIndex={currentIndex}\n                key={`keyTodo${todo.id}`}\n              />\n            ))\n          }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    id: PropTypes.number,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  })).isRequired,\n};\n\nexport default TodoList;\n","export const loadData = async(url) => {\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n};\n\nexport const getTodosWithUsers = async(updateAppState) => {\n  const url = 'https://jsonplaceholder.typicode.com/';\n\n  const todos = await loadData(`${url}todos`);\n  const users = await loadData(`${url}users`);\n\n  const todosWithUsers = await todos.map(todo => (\n    {\n      ...todo,\n      user: users.find(person => person.id === todo.userId),\n      updateAppState,\n    }\n  ));\n\n  return todosWithUsers;\n};\n","import React from 'react';\nimport './App.css';\nimport TodoList from './components/TodoList';\nimport { getTodosWithUsers } from './components/loadingData';\n\nclass App extends React.Component {\n  state = {\n    renderButton: true,\n    todos: [],\n  }\n\n  updateAppState = (config) => {\n    this.setState(config);\n  };\n\n  handleClick = () => {\n    const loadButton = document.querySelector('.load-button');\n    loadButton.disabled = true;\n    loadButton.textContent = 'Loading...';\n\n    getTodosWithUsers(this.updateAppState).then((data) => {\n      this.setState({\n        todos: data,\n        renderButton: false,\n      });\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of todos</h1>\n        {\n          (this.state.renderButton)\n            ? (\n              <button\n                type=\"button\"\n                className=\"load-button\"\n                onClick={this.handleClick}\n              >\n                Load\n              </button>\n            )\n            : (\n              <TodoList\n                todos={this.state.todos}\n              />\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}