{"version":3,"sources":["components/User.js","components/TodoItem.js","components/TodoList.js","components/loadingData.js","App.js","index.js"],"names":["User","_ref","name","react_default","a","createElement","defaultProps","TodoItem","id","title","completed","user","todos","concat","type","checked","onChange","event","todoId","target","slice","newTodos","Object","toConsumableArray","index","findIndex","todo","splice","updateAppState","htmlFor","components_User","sortStatus","TodoList","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sortTotos","fieldOfSort","textContent","toLowerCase","sortMethod","status","b","localeCompare","setState","sortedTotos","sort","state","_this2","className","onClick","map","components_TodoItem","assign","key","React","Component","loadData","asyncToGenerator","regenerator_default","mark","_callee","url","response","data","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","arguments","getTodosWithUsers","_ref2","_callee2","users","todosWithUsers","_context2","objectSpread","find","person","userId","_x2","App","isLoadButtonVisible","textOfLoadButton","config","handleClick","then","_this$state","disabled","components_TodoList","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a87728ac.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ name }) => (\n  <div>\n    {name}\n  </div>\n);\n\nUser.propTypes = {\n  name: PropTypes.string,\n};\n\nUser.defaultProps = {\n  name: null,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst TodoItem = ({ id, title, completed, user, todos }) => {\n  const updateStatus = (event) => {\n    const todoId = event.target.id.slice(4);\n    const newTodos = [...todos];\n    const index = newTodos.findIndex(todo => todo.id === +todoId);\n    const todo = newTodos[index];\n\n    todo.completed = !todo.completed;\n    newTodos.splice(index, 1, todo);\n    todo.updateAppState({ todos: [...newTodos] });\n  };\n\n  return (\n    <tr>\n      <td>\n        <input\n          id={`todo${id}`}\n          type=\"checkbox\"\n          checked={completed}\n          onChange={updateStatus}\n        />\n      </td>\n\n      <td>\n        <label htmlFor={`todo${id}`}>\n          {title}\n        </label>\n      </td>\n\n      <td>\n        <User {...user} />\n      </td>\n    </tr>\n  );\n};\n\nTodoItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  completed: PropTypes.bool,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nTodoItem.defaultProps = {\n  completed: false,\n  user: null,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nlet sortStatus = 1;\n\nclass TodoList extends React.Component {\n  constructor({ todos }) {\n    super();\n    this.todos = todos;\n\n    this.state = {\n      sortedTotos: [...this.todos],\n    };\n  }\n\n  sortTotos = (event) => {\n    const fieldOfSort = event.target.textContent.toLowerCase();\n    const sortMethod = {\n      status: (a, b) => sortStatus * (a.completed - b.completed),\n      todo: (a, b) => sortStatus * a.title.localeCompare(b.title),\n      user: (a, b) => sortStatus * a.user.name.localeCompare(b.user.name),\n    };\n\n    sortStatus = -sortStatus;\n\n    this.setState({\n      sortedTotos: [...this.todos].sort(sortMethod[fieldOfSort]),\n    });\n  };\n\n  render() {\n    const { sortedTotos } = this.state;\n\n    return (\n      <table>\n        <thead>\n          <tr className=\"table-head\">\n            <th onClick={this.sortTotos}>Status</th>\n            <th onClick={this.sortTotos}>Todo</th>\n            <th onClick={this.sortTotos}>User</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            sortedTotos.map(todo => (\n              <TodoItem\n                {...todo}\n                todos={this.todos}\n                key={todo.id}\n              />\n            ))\n          }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    id: PropTypes.number,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  })).isRequired,\n};\n\nexport default TodoList;\n","export const loadData = async(url) => {\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n};\n\nexport const getTodosWithUsers = async(updateAppState) => {\n  const url = 'https://jsonplaceholder.typicode.com/';\n\n  const todos = await loadData(`${url}todos`);\n  const users = await loadData(`${url}users`);\n\n  const todosWithUsers = await todos.map(todo => (\n    {\n      ...todo,\n      user: users.find(person => person.id === todo.userId),\n      updateAppState,\n    }\n  ));\n\n  return todosWithUsers;\n};\n","import React from 'react';\nimport './App.css';\nimport TodoList from './components/TodoList';\nimport { getTodosWithUsers } from './components/loadingData';\n\nclass App extends React.Component {\n  state = {\n    isLoadButtonVisible: true,\n    todos: [],\n    textOfLoadButton: 'Load',\n  }\n\n  updateAppState = (config) => {\n    this.setState(config);\n  };\n\n  handleClick = () => {\n    this.setState({\n      textOfLoadButton: 'Loading...',\n    });\n\n    getTodosWithUsers(this.updateAppState).then((data) => {\n      this.setState({\n        todos: data,\n        isLoadButtonVisible: false,\n      });\n    });\n  };\n\n  render() {\n    const { textOfLoadButton, isLoadButtonVisible, todos } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of todos</h1>\n        {\n          (isLoadButtonVisible)\n            ? (\n              <button\n                type=\"button\"\n                className=\"load-button\"\n                disabled={textOfLoadButton === 'Loading...'}\n                onClick={this.handleClick}\n              >\n                {textOfLoadButton}\n              </button>\n            )\n            : (\n              <TodoList\n                todos={todos}\n              />\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}